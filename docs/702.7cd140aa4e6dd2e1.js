"use strict";(self.webpackChunkfoodApp=self.webpackChunkfoodApp||[]).push([[702],{3702:(G,p,o)=>{o.r(p),o.d(p,{UsersModule:()=>D});var l=o(177),F=o(1060),c=o(5351),e=o(7705);let f=(()=>{class a{constructor(t,n){this.dialogRef=t,this.data=n}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(c.CP),e.rXU(c.Vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-view-user"]],decls:33,vars:10,consts:[[1,"card","mb-3","border-0","col-9","w-100"],[1,"row","py-5","p-3","w-100"],[1,"col-md-5","mx-auto"],[1,"w-75","m-auto","align-items-center"],["height","170px","onerror","this.src='assets/image/Ellipse 234.svg'","alt","...",1,"w-100","rounded-3",3,"src"],[1,"col-md-7","d-flex","align-items-center"],[1,"w-100"],[1,"ps-0"],[1,"fs-5"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.nrm(4,"img",4),e.k0s()(),e.j41(5,"div",5)(6,"div",6)(7,"ul",7)(8,"li")(9,"span",8),e.EFF(10,"Name :"),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"li")(13,"span",8),e.EFF(14,"Phone :"),e.k0s(),e.EFF(15),e.k0s(),e.j41(16,"li")(17,"span",8),e.EFF(18,"Country :"),e.k0s(),e.EFF(19),e.k0s(),e.j41(20,"li")(21,"span",8),e.EFF(22,"Role :"),e.k0s(),e.EFF(23),e.k0s(),e.j41(24,"li")(25,"span",8),e.EFF(26,"Creation Date :"),e.k0s(),e.EFF(27),e.nI1(28,"date"),e.k0s(),e.j41(29,"li")(30,"span",8),e.EFF(31,"Email :"),e.k0s(),e.EFF(32),e.k0s()()()()()()),2&n&&(e.R7$(4),e.Y8G("src",s.data.url+s.data.item.imagePath,e.B4B),e.R7$(7),e.SpI(" ",s.data.item.userName,""),e.R7$(4),e.SpI(" ",s.data.item.phoneNumber,""),e.R7$(4),e.SpI(" ",s.data.item.country,""),e.R7$(4),e.SpI(" ",s.data.item.group.name,""),e.R7$(4),e.SpI(" ",e.i5U(28,7,s.data.item.creationDate,"dd/MM/YYYY"),""),e.R7$(5),e.JRh(s.data.item.email))},dependencies:[l.vh],styles:["ul[_ngcontent-%COMP%]{list-style:none}"]})}}return a})();var v=o(8256),E=o(4959),j=o(1626);let C=(()=>{class a{constructor(t){this._HttpClient=t}getAllUsers(t){return this._HttpClient.get("Users",{params:t})}deleteUser(t){return this._HttpClient.delete(`Users/${t}`)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var g=o(7062),U=o(8834),m=o(1806),k=o(9213),d=o(9417),R=o(6440),y=o(5596),b=o(9631),h=o(882),I=o(7250),S=o(6600);let $=(()=>{class a{transform(t,n){return t.filter(s=>s.userName.toLowerCase().includes(n.toLowerCase()))}static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275pipe=e.EJ8({name:"searchUsers",type:a,pure:!0,standalone:!0})}}return a})();function M(a,u){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",23),e.nrm(4,"img",24),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td")(14,"button",25)(15,"mat-icon"),e.EFF(16,"more_horiz"),e.k0s()(),e.j41(17,"mat-menu",null,26)(19,"button",27),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.openViewDialog(i))}),e.j41(20,"mat-icon",28),e.EFF(21,"visibility"),e.k0s(),e.j41(22,"span",28),e.EFF(23,"View"),e.k0s()(),e.j41(24,"button",27),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.openDeleteDialog(i))}),e.j41(25,"mat-icon",29),e.EFF(26,"delete"),e.k0s(),e.j41(27,"span",29),e.EFF(28,"Delete"),e.k0s()()()()()}if(2&a){const t=u.$implicit,n=u.even,s=e.sdS(18),i=e.XpG();e.HbH(n?"bg-white":"bg-light"),e.R7$(2),e.JRh(t.userName),e.R7$(2),e.Y8G("src",i.imgPath+t.imagePath,e.B4B),e.R7$(2),e.SpI(" ",t.email,""),e.R7$(2),e.JRh(t.phoneNumber),e.R7$(2),e.JRh(t.country),e.R7$(2),e.JRh(t.group.name),e.R7$(2),e.Y8G("matMenuTriggerFor",s)}}const N=function(){return[1,2]},T=function(){return[5,10,25,100]};let V=(()=>{class a{constructor(t,n,s,i){this._ToastrService=t,this._CategoryService=n,this.dialog=s,this._UsersService=i,this.listCategory=[],this.pageSize=10,this.pageNumber=1,this.searchVal="",this.tagId=0,this.categoryId=0,this.imgPath="https://upskilling-egypt.com:3006/",this.roleId=[1,2],this.searchByInput="name"}ngOnInit(){this.getAllUsers()}getAllUsers(){this._UsersService.getAllUsers({pageSize:this.pageSize,pageNumber:this.pageNumber,groups:this.roleId,userName:this.searchVal}).subscribe({next:n=>{console.log(n.data),this.tableRes=n,this.listData=n.data},error(n){console.log(n)}})}handlePageEvent(t){this.pageSize=t.pageSize,this.pageNumber=t.pageIndex,this.getAllUsers()}openDeleteDialog(t){this.dialog.open(F.c,{data:{text:"Users",id:t.id,userName:t.userName}}).afterClosed().subscribe(s=>{console.log("The dialog was closed"),console.log(s),s&&this.onDeleteUser(s)})}openViewDialog(t){this.dialog.open(f,{data:{item:t,url:this.imgPath}}).afterClosed().subscribe(s=>{console.log("The dialog was closed"),console.log(s)})}onDeleteUser(t){this._UsersService.deleteUser(t).subscribe({next:n=>{console.log(n),this._ToastrService.success("User is deleted")},error(n){console.log(n)},complete:()=>{this.getAllUsers()}})}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(v.tw),e.rXU(E.M),e.rXU(c.bZ),e.rXU(C))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-users"]],decls:74,vars:18,consts:[[1,"title-header"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-8"],[1,"item-text"],[1,"col-md-4","text-end"],["src","assets/image/imgHome.svg","alt",""],[1,"container","py-3","d-flex","justify-content-between"],[1,"light-gray"],["routerLink","add",1,"btn-main"],[1,"row"],[1,"col-3"],[1,"w-100"],[3,"ngModel","ngModelChange"],["value","0"],[1,"col-6"],[1,"example-full-width","w-100"],["matInput","","placeholder","Search...",3,"ngModel","value","ngModelChange"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[1,"table"],[3,"class",4,"ngFor","ngForOf"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["width","90px",1,"pe-4"],["alt","","onerror","this.src='assets/image/Ellipse 234.svg'",1,"w-100",3,"src"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"text-success"],[1,"text-danger"]],template:function(n,s){1&n&&(e.j41(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h3"),e.EFF(6,"Recipes "),e.j41(7,"span",4),e.EFF(8,"Items"),e.k0s()(),e.j41(9,"p"),e.EFF(10,"You can now add your items that any user can order it from "),e.nrm(11,"br"),e.EFF(12,"the Application and you can edit"),e.k0s()(),e.j41(13,"div",5),e.nrm(14,"img",6),e.k0s()()()(),e.j41(15,"div",7)(16,"div")(17,"h4"),e.EFF(18,"Recipe Table Details"),e.k0s(),e.j41(19,"p",8),e.EFF(20,"You can check all details"),e.k0s()(),e.j41(21,"div")(22,"button",9),e.EFF(23,"Add New Item"),e.k0s()()(),e.j41(24,"mat-card")(25,"div",10)(26,"div",11)(27,"mat-form-field",12)(28,"mat-label"),e.EFF(29,"Search By"),e.k0s(),e.j41(30,"mat-select",13),e.bIt("ngModelChange",function(r){return s.searchByInput=r}),e.j41(31,"mat-option",14),e.EFF(32,"User Name"),e.k0s(),e.j41(33,"mat-option",14),e.EFF(34,"Email"),e.k0s(),e.j41(35,"mat-option",14),e.EFF(36,"Country"),e.k0s()()()(),e.j41(37,"div",15)(38,"div",12)(39,"mat-form-field",16)(40,"mat-label"),e.EFF(41),e.k0s(),e.j41(42,"input",17),e.bIt("ngModelChange",function(r){return s.searchVal=r}),e.k0s()()()(),e.j41(43,"div",11)(44,"mat-form-field")(45,"mat-label"),e.EFF(46,"Role"),e.k0s(),e.j41(47,"mat-select",18),e.bIt("ngModelChange",function(r){return s.roleId=r})("selectionChange",function(){return s.getAllUsers()}),e.j41(48,"mat-option",19),e.EFF(49,"All"),e.k0s(),e.j41(50,"mat-option",19),e.EFF(51,"Super Admin"),e.k0s(),e.j41(52,"mat-option",19),e.EFF(53,"System User"),e.k0s()()()()(),e.j41(54,"table",20)(55,"thead")(56,"th"),e.EFF(57,"User Name"),e.k0s(),e.j41(58,"th"),e.EFF(59,"Image"),e.k0s(),e.j41(60,"th"),e.EFF(61,"Email"),e.k0s(),e.j41(62,"th"),e.EFF(63,"Phone"),e.k0s(),e.j41(64,"th"),e.EFF(65,"Country"),e.k0s(),e.j41(66,"th"),e.EFF(67,"Role"),e.k0s(),e.j41(68,"th"),e.EFF(69,"Actions"),e.k0s()(),e.j41(70,"tbody"),e.DNE(71,M,29,9,"tr",21),e.nI1(72,"searchUsers"),e.k0s()(),e.j41(73,"mat-paginator",22),e.bIt("page",function(r){return s.handlePageEvent(r)}),e.k0s()()()),2&n&&(e.R7$(30),e.Y8G("ngModel",s.searchByInput),e.R7$(11),e.SpI("Search by ",s.searchByInput,""),e.R7$(1),e.Y8G("ngModel",s.searchVal)("value",s.searchByInput),e.R7$(5),e.Y8G("ngModel",s.roleId),e.R7$(1),e.Y8G("value",e.lJ4(16,N)),e.R7$(2),e.Y8G("value",1),e.R7$(2),e.Y8G("value",2),e.R7$(19),e.Y8G("ngForOf",e.i5U(72,13,s.listData,s.searchVal)),e.R7$(2),e.Y8G("length",null==s.tableRes?null:s.tableRes.totalNumberOfRecords)("pageSize",s.pageSize)("pageSizeOptions",e.lJ4(17,T))("pageIndex",s.pageNumber))},dependencies:[l.Sq,g.Wk,U.iY,m.kk,m.fb,m.Cp,k.An,d.me,d.BC,d.vS,R.iy,y.RN,b.fg,h.rl,h.nJ,I.VO,S.wT,$]})}}return a})();var Y=o(3885);const w=[{path:"",component:V}];let D=(()=>{class a{static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[l.MD,g.iI.forChild(w),Y.G]})}}return a})()}}]);