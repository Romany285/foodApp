"use strict";(self.webpackChunkfoodApp=self.webpackChunkfoodApp||[]).push([[896],{896:(V,p,s)=>{s.r(p),s.d(p,{ReceipesModule:()=>D});var c=s(177),h=s(3308),e=s(7705),u=s(2967),F=s(8256),v=s(4959),R=s(5351),f=s(8834),g=s(1806),C=s(9213),m=s(9417),j=s(6440),E=s(9631),d=s(882),b=s(7250),S=s(6600),y=s(7268);function k(n,l){if(1&n&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function T(n,l){if(1&n&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(1),e.JRh(t.name)}}function I(n,l){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(1),e.JRh(t.name)}}function $(n,l){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",22),e.nrm(4,"img",23),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.DNE(12,I,2,1,"span",24),e.k0s(),e.j41(13,"td"),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.nrm(16,"td"),e.j41(17,"td")(18,"button",25)(19,"mat-icon"),e.EFF(20,"more_horiz"),e.k0s()(),e.j41(21,"mat-menu",null,26)(23,"button",27),e.bIt("click",function(){const a=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.openViewDialog(a))}),e.j41(24,"mat-icon",28),e.EFF(25,"visibility"),e.k0s(),e.j41(26,"span",28),e.EFF(27,"View"),e.k0s()(),e.j41(28,"button",27),e.bIt("click",function(){const a=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.addToFavorites(a.id))}),e.j41(29,"mat-icon",29),e.EFF(30,"favorite"),e.k0s(),e.j41(31,"span",29),e.EFF(32,"Add to fav"),e.k0s()()()()()}if(2&n){const t=l.$implicit,o=l.even,i=e.sdS(22),a=e.XpG();e.HbH(o?"bg-white":"bg-light"),e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("src",a.imgPath+t.imagePath,e.B4B),e.R7$(2),e.SpI(" ",t.price,""),e.R7$(2),e.JRh(t.description),e.R7$(2),e.JRh(t.tag.name),e.R7$(2),e.Y8G("ngForOf",t.category),e.R7$(2),e.JRh(e.i5U(15,10,t.creationDate,"dd/MM/YYYY")),e.R7$(4),e.Y8G("matMenuTriggerFor",i)}}const M=function(){return[5,10,25,100]};let Y=(()=>{class n{constructor(t,o,i,a){this._UserRoleServicesService=t,this._ToastrService=o,this._CategoryService=i,this.dialog=a,this.listCategory=[],this.pageSize=10,this.pageNumber=1,this.searchVal="",this.tagId=0,this.categoryId=0,this.imgPath="https://upskilling-egypt.com:3006/"}ngOnInit(){this.getRecipes(),this.getTags(),this.getAllCategory()}getRecipes(){this._UserRoleServicesService.getAllRecipes({pageSize:this.pageSize,pageNumber:this.pageNumber,name:this.searchVal,tagId:this.tagId,categoryId:this.categoryId}).subscribe({next:o=>{console.log(o),this.listData=o.data,this.tableRes=o},error(o){console.log(o)}})}getTags(){this._UserRoleServicesService.getAllTags().subscribe({next:t=>{console.log(t),this.listTags=t},error(t){console.log(t)}})}getAllCategory(){this._CategoryService.getAllCategories({pageSize:2e3,pageNumber:this.pageNumber,name:this.searchVal}).subscribe({next:o=>{console.log(o),this.listCategory=o.data},error(o){console.log(o)}})}openViewDialog(t){this.dialog.open(h.x,{data:{name:t.name,img:this.imgPath+t.imagePath,price:t.price,description:t.description,caregory:t.category,tag:t.tag,creation:t.creationDate,modification:t.modificationDate}}).afterClosed().subscribe(i=>{console.log("The dialog was closed"),console.log(i)})}addToFavorites(t){this._UserRoleServicesService.AddFav(t).subscribe({next:o=>{console.log(o),this._ToastrService.success("Recipe added to your favorites","Success")},error:o=>{console.log(o)}})}handlePageEvent(t){this.pageSize=t.pageSize,this.pageNumber=t.pageIndex,this.getRecipes()}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(u.p),e.rXU(F.tw),e.rXU(v.M),e.rXU(R.bZ))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-receipes"]],decls:61,vars:14,consts:[[1,"title-header"],[1,"container"],[1,"row","align-items-center"],[1,"col-md-8"],[1,"item-text"],[1,"col-md-4","text-end"],["src","assets/image/imgHome.svg","alt",""],[1,"row","mt-3"],[1,"col-6"],[1,"w-100"],[1,"example-full-width","w-100"],["matInput","","placeholder","Search by name...","value","Sushi",3,"ngModel","ngModelChange"],[1,"col-3"],[3,"ngModel","ngModelChange","selectionChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"table"],[1,"ps-3","rounded-1"],[1,"ps-4"],[3,"class",4,"ngFor","ngForOf"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[3,"value"],["width","90px",1,"pe-4"],["onerror","this.src='assets/image/668download.webp'","alt","",1,"w-100",3,"src"],[4,"ngFor","ngForOf"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"text-success"],[1,"text-danger"]],template:function(o,i){1&o&&(e.j41(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h3"),e.EFF(6,"Recipes "),e.j41(7,"span",4),e.EFF(8,"Items"),e.k0s()(),e.j41(9,"p"),e.EFF(10,"You can now add your items that any user can order it from "),e.nrm(11,"br"),e.EFF(12,"the Application and you can edit"),e.k0s()(),e.j41(13,"div",5),e.nrm(14,"img",6),e.k0s()()()(),e.j41(15,"div",7)(16,"div",8)(17,"div",9)(18,"mat-form-field",10)(19,"mat-label"),e.EFF(20,"Search"),e.k0s(),e.j41(21,"input",11),e.bIt("ngModelChange",function(r){return i.searchVal=r}),e.k0s()()()(),e.j41(22,"div",12)(23,"mat-form-field")(24,"mat-label"),e.EFF(25,"Tag"),e.k0s(),e.j41(26,"mat-select",13),e.bIt("ngModelChange",function(r){return i.tagId=r})("selectionChange",function(){return i.getRecipes()}),e.j41(27,"mat-option",14),e.EFF(28,"All"),e.k0s(),e.DNE(29,k,2,2,"mat-option",15),e.k0s()()(),e.j41(30,"div",12)(31,"mat-form-field")(32,"mat-label"),e.EFF(33,"Category"),e.k0s(),e.j41(34,"mat-select",13),e.bIt("ngModelChange",function(r){return i.categoryId=r})("selectionChange",function(){return i.getRecipes()}),e.j41(35,"mat-option",14),e.EFF(36,"All"),e.k0s(),e.DNE(37,T,2,2,"mat-option",15),e.k0s()()()(),e.j41(38,"table",16)(39,"thead")(40,"th",17),e.EFF(41,"item Name"),e.k0s(),e.j41(42,"th"),e.EFF(43,"Image"),e.k0s(),e.j41(44,"th"),e.EFF(45,"Price"),e.k0s(),e.j41(46,"th"),e.EFF(47,"Description"),e.k0s(),e.j41(48,"th"),e.EFF(49,"Tag"),e.k0s(),e.j41(50,"th"),e.EFF(51,"Category"),e.k0s(),e.j41(52,"th"),e.EFF(53,"Creation Date"),e.k0s(),e.nrm(54,"th"),e.j41(55,"th"),e.EFF(56," Actions"),e.k0s()(),e.j41(57,"tbody",18),e.DNE(58,$,33,13,"tr",19),e.nI1(59,"searchRecipes"),e.k0s()(),e.j41(60,"mat-paginator",20),e.bIt("page",function(r){return i.handlePageEvent(r)}),e.k0s()()),2&o&&(e.R7$(21),e.Y8G("ngModel",i.searchVal),e.R7$(5),e.Y8G("ngModel",i.tagId),e.R7$(3),e.Y8G("ngForOf",i.listTags),e.R7$(5),e.Y8G("ngModel",i.categoryId),e.R7$(3),e.Y8G("ngForOf",i.listCategory),e.R7$(21),e.Y8G("ngForOf",e.i5U(59,10,i.listData,i.searchVal)),e.R7$(2),e.Y8G("length",null==i.tableRes?null:i.tableRes.totalNumberOfRecords)("pageSize",i.pageSize)("pageSizeOptions",e.lJ4(13,M))("pageIndex",i.pageNumber))},dependencies:[c.Sq,f.iY,g.kk,g.fb,g.Cp,C.An,m.me,m.BC,m.vS,j.iy,E.fg,d.rl,d.nJ,b.VO,S.wT,c.vh,y.o]})}}return n})();var G=s(7062),N=s(3885);const A=[{path:"",component:Y}];let D=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[c.MD,G.iI.forChild(A),N.G]})}}return n})()}}]);